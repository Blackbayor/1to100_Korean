# 범용 국어 시험지 분석 및 재구성 AI 프로젝트 계획서 (MVP 목표: 8월 말 - 재조합 및 다운로드 포함)

## 1. 프로젝트 개요

본 프로젝트는 다양한 형태의 국어 시험지 이미지(PDF 변환 포함)에서 '지문-문제' 단위를 시각적, 의미적으로 인식하여 분리하고, 이를 바탕으로 새로운 학습 자료를 생성하는 AI 시스템을 구축하는 것을 목표로 합니다.

**최종 목표:**
입력된 PDF 또는 이미지 형태의 국어 시험지에서 구성 요소(헤더, 지문, 문제 블록 등)를 AI가 자동으로 탐지 및 분류하고, '지문-문제' 또는 '독립 문제' 단위로 그룹핑합니다. 그룹핑된 단위들을 무작위로 섞어 문제 번호를 새로 부여하고, 원본 레이아웃을 유지한 채 재조합된 새로운 PDF 문제지 파일 생성.

## 2. 현재 진행 상황 (2025년 7월 10일 기준)

*   **데이터 수집:** 수능 기출 10개년치 PDF 확보 완료.
*   **인프라 구축:** AWS 계정 및 IAM 사용자 설정 완료.
*   **데이터 전처리:** 로컬에서 PDF를 페이지별 고해상도 PNG 이미지로 변환하는 Python 스크립트(`src/pdf_processor.py`) 작성 및 이미지 AWS S3 업로드 완료.
*   **데이터 레이블링:** AWS SageMaker Ground Truth를 이용해 데이터 레이블링 진행 중. (클래스: header, passage, question_block, question_number, figure, footer 등)

## 3. 향후 계획 및 마일스톤 (MVP 목표: 8월 31일)

### Phase 1: 데이터 준비 및 변환 (2025년 7월 11일 ~ 7월 18일)
*   **목표:** SageMaker Ground Truth 라벨링 결과물을 LayoutLMv3 학습에 적합한 형식으로 변환하고, 최소한의 훈련/검증 셋을 준비합니다.
*   **주요 작업:**
    *   **Task 1.1: SageMaker Ground Truth 결과물 분석 및 샘플 확보**
        *   내용: `output.manifest` 파일 구조 분석 및 LayoutLMv3 입력 형식 연구.
        *   **마일스톤:** `output.manifest` 샘플 확보 및 구조 파악 완료.
        *   **데드라인:** 2025년 7월 14일
    *   **Task 1.2: 데이터 형식 변환 스크립트 개발 (`src/prepare_dataset.py`)**
        *   내용: SageMaker Ground Truth 결과물을 LayoutLMv3 학습에 필요한 JSONL 형식 등으로 변환하는 스크립트 개발 (바운딩 박스, 텍스트, 라벨 매핑 등 포함).
        *   **마일스톤:** 변환 스크립트 1차 개발 및 소규모 데이터셋 변환 테스트 완료.
        *   **데드라인:** 2025년 7월 18일
    *   **Task 1.3: 데이터셋 분배 (MVP용)**
        *   내용: MVP 학습을 위한 훈련/검증 셋 분배 로직 구현.
        *   **마일스톤:** MVP 학습용 데이터셋 생성 완료.
        *   **데드라인:** 2025년 7월 18일 (Task 1.2와 병행 또는 직후 완료)

### Phase 2: 모델 학습 및 평가 (2025년 7월 19일 ~ 8월 8일)
*   **목표:** LayoutLMv3 모델을 파인튜닝하고, 웹 서비스에 필요한 추론 기능을 확보합니다.
*   **주요 작업:**
    *   **Task 2.1: LayoutLMv3 학습 스크립트 개발 (`src/train.py`)**
        *   내용: SageMaker 환경에서 LayoutLMv3 파인튜닝을 위한 학습 스크립트 작성 (데이터 로더, 모델 정의, 학습 루프, 주요 하이퍼파라미터 설정 포함).
        *   **마일스톤:** 학습 스크립트 1차 개발 및 SageMaker Training Job 연동 테스트 완료.
        *   **데드라인:** 2025년 7월 28일
    *   **Task 2.2: 모델 학습 및 하이퍼파라미터 튜닝 (MVP용)**
        *   내용: SageMaker Training Job을 활용하여 모델 학습 진행. MVP 달성을 위한 최소한의 성능 확보.
        *   **마일스톤:** 1차 모델 학습 완료 및 검증 셋 기준 핵심 성능 지표 확보.
        *   **데드라인:** 2025년 8월 8일
    *   **Task 2.3: 모델 추론 API 개발 (`src/inference.py`)**
        *   내용: 학습된 모델을 사용하여 이미지에서 영역을 탐지하고 텍스트를 추출하는 추론 API 개발.
        *   **마일스톤:** 추론 API 기능 개발 완료.
        *   **데드라인:** 2025년 8월 8일 (Task 2.2와 병행)

### Phase 3: 핵심 로직 구현, PDF 재조합 및 웹 서비스 개발/배포 (2025년 8월 9일 ~ 8월 28일)
*   **목표:** 학습된 모델의 추론 결과를 바탕으로 지문-문제 그룹핑 및 셔플 로직을 구현하고, **새로운 PDF를 재조합하여 다운로드**할 수 있도록 웹 서비스와 연동합니다.
*   **주요 작업:**
    *   **Task 3.1: 추론 결과 후처리 및 그룹핑/셔플 로직 개발**
        *   내용: 모델 추론 결과(바운딩 박스, 라벨, 텍스트)를 바탕으로 각 영역의 이미지 잘라내기, 텍스트 추출, **지문-문제 그룹핑 및 무작위 셔플 로직 개발**.
        *   **마일스톤:** 핵심 후처리 및 그룹핑/셔플 기능 개발 완료.
        *   **데드라인:** 2025년 8월 16일
    *   **Task 3.2: PDF 재조합 및 번호 부여 로직 개발**
        *   내용: 셔플된 지문-문제 단위를 기반으로 새로운 PDF 페이지에 재배치하고, 문제 번호를 새로 부여하는 로직 개발. (PyMuPDF 또는 유사 라이브러리 활용)
        *   **마일스톤:** PDF 재조합 및 번호 부여 기능 개발 완료.
        *   **데드라인:** 2025년 8월 23일
    *   **Task 3.3: 웹 서비스 개발 (API + UI + PDF 다운로드)**
        *   내용: Python 기반의 경량 웹 프레임워크(예: FastAPI)를 사용하여 이미지 업로드, 모델 추론 호출, 후처리 및 PDF 재조합 결과를 웹 인터페이스로 제공하고, **재조합된 PDF 파일을 다운로드**할 수 있는 API 및 프론트엔드(HTML/CSS/JS) 개발.
        *   **마일스톤:** 웹 서비스 API 및 UI, PDF 다운로드 기능 개발 완료.
        *   **데드라인:** 2025년 8월 26일
    *   **Task 3.4: MVP 배포 및 테스트**
        *   내용: 개발된 웹 서비스를 비공식적으로라도 접근 가능한 환경(예: AWS EC2 또는 SageMaker Endpoint)에 배포하고, 엔드-투-엔드 테스트 진행.
        *   **마일스톤:** 웹 기반 MVP 배포 및 내부 테스트 완료.
        *   **데드라인:** 2025년 8월 28일

### Phase 4: MVP 검증 및 피드백 (2025년 8월 29일 ~ 8월 31일)
*   **목표:** 웹에서 사용자가 시험지 이미지를 업로드하여 모델 추론, 셔플된 결과 확인 및 재조합된 PDF를 다운로드할 수 있는 MVP를 완성하고, 초기 피드백을 수집합니다.
*   **주요 작업:**
    *   **Task 4.1: MVP 기능 검증 및 안정화**
        *   내용: MVP 기능에 대한 최종 검증 및 발견된 버그 수정.
        *   **마일스톤:** MVP 기능 안정화 완료.
        *   **데드라인:** 2025년 8월 30일
    *   **Task 4.2: 초기 사용자 피드백 수집 준비**
        *   내용: MVP 시연 및 초기 피드백 수집을 위한 준비.
        *   **마일스톤:** MVP 목표 달성.
        *   **데드라인:** 2025년 8월 31일

## 4. 기술 스택 (동일)